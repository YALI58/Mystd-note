

## 练习：斐波纳契闭包

让我们用函数做些好玩的。

实现一个 `fibonacci` 函数，它返回一个函数（闭包），该闭包返回一个[斐波纳契数列](https://zh.wikipedia.org/wiki/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97) (0, 1, 1, 2, 3, 5, ...)。
```go
package main

import "fmt"

// fibonacci 返回一个函数，该函数每次调用返回下一个斐波那契数
func fibonacci() func() int {
    a, b := 0, 1 // 初始化前两项
    return func() int {
        // 先保存当前要返回的值
        current := a
        // 更新为下一对值
        a, b = b, a+b
        // 返回当前值
        return current
    }
}

func main() {
    f := fibonacci() // f 是一个闭包函数
    for i := 0; i < 10; i++ {
        fmt.Println(f()) // 每次调用 f() 得到下一个斐波那契数
    }
}
```

![[Recording 20250820140202.m4a]]

![[Recording 20250820135659.m4a]]
